
#
 Volume 3 Advanced Topics Table of Contents Advanced Features ................................................................ 1 Screen Criteria Setting ........................................................... 2 User Defined Criteria....................................................................... 2 Screen Criteria Defined ................................................................... 3 Screen Criteria Mapping ................................................................. 5 Screen Layout Grouping ....................................................... 7 Button Characteristic Override ............................................. 9 Server Rule Setup ................................................................ 12 Web Rule Setup .................................................................... 17 Client Rule Setup ................................................................. 21 Message Center Maintenance ............................................. 23 Language Translation .......................................................... 25 Document Imaging ............................................................... 33 Chapter 1 Advanced Features 
##
 As mentioned earlier, a functional screen can be developed within 5 minutes using our standard features. More sophisticated developers, however, may want further customization. For example, users may want to change button names, hide or show buttons, add business rules, etc. In this chapter, we will address functionality more suitable for developers who have more advanced programming knowledge and experience, to better handle situations where business rules require understanding of standard programming languages, such as SQL, C# or JavaScript. Using this program, sophisticated developers may perform some of the following advanced functions:  Screen criteria setting  Screen layout grouping  Button characteristic override  Server rule setup  Web rule setup  Client rule setup  Advanced rule setup  Message center maintenance  Automatic human language translation 
#
 Chapter 2 Screen Criteria Setting 
##
 In order to streamline data transfer between the data server and the web server, developers may specify a range of commonly used criteria for a desired screen. Users can filter based on the specified criteria, and only data that meets those criteria will be retrieved from the database. This feature significantly reduces unnecessary traffic, improving performance without sacrificing quality. There are two types of screen criteria: 1. User Defined Criteria: Users create and name their own SQL. 2. Mapped Criteria: Users can map criteria (one-to-one) to a column on the table specified for that screen. User Defined Criteria This is most useful for complex criteria that may involve some hard-coded constants to be specifically filtered. Users write their own SQL, and attach a culture-dependent name to it. Each name specified will be listed on the drop-down at the top of the screen (to the right of the criteria section), and can be ordered in any sequence the user desires. Command: Client Tier -> Screen Filters The result is shown as follow on the right: The latter criteria type consists of a two-steps process. First, a screen criterion is defined (as shown below), which is then mapped to the appropriate screen column with the appropriate operator. Screen Criteria Defined Command: Client Tier -> Screen Criteria To add new criteria to a screen, first select the appropriate screen from the criteria section. Notice that this dropdown selection is actually a screen criteria defined by the same action. This is the power of self-generation as Rintagi is also built from this meta-data. One built-in service worth mentioning is that the application generated will always memorize each user’s last selection for each individual screen or report and will be filtered accordingly next time the screen or report is invoked by the same user. If the selected screen already has some criteria, the search list below the criteria section will list all existing criteria. As with all other screens, the user may choose from a blank row to add a new row or copy an existing row to be modified. Some rows may not accept exact duplicate. In which case the unique column should be identified and modified prior to duplicating to the database. Schema Characteristic Description Screen This is the screen this criterion applies. Criteria Group This is the criteria group this criterion belongs; all groups should root from the same default group. This will be covered in details in the following topic. Criteria Column The column that this criteria should influence. This will be used to determine the data type of this criterion. Tab Index This is the tab order of this criterion at a default interval of 10. If and when not assigned a value or the last digit is not zero, an automatic reorder will take place. Display Mode This is the display type of this criteria column. Justify This is the justification of column display (Left, Right or Center). Column Size (px) The column size of this criterion in pixels. List Row Size The number of rows to show if this criterion is a list-box. Most of the time this is empty. Dropdown Key Column Dropdown Ref Column The key column of the dropdown, combo-box, list-box, radio-button. The display column of the dropdown, combo-box, list-box, radio-button. Dropdown Sort Column When not specified, the reference column will be used for sorting. Require Validation When checked, this criterion becomes mandatory. Culture The culture for this criteria label, default culture should present on one of the rows. Column Header The heading for this criteria column is 50 characters or less. Width The width of this heading in pixels if default is not applicable. Screen Criteria Mapping Command: Client Tier -> Screen Criteria Mapping The criteria map determines the filter operation based on a simple operator. Only four pieces of information are required for each criterion. (Note: Code generation will produce an error if this step is not performed). Schema Characteristic Description Screen Criteria and columns on this screen will be mapped. Database Column Database column to map the criteria to. Operator Mapping operator between database column and criteria. Criteria Column Criteria to map to the selected database column. 
#
 Chapter 3 Screen Layout Grouping 
##
 Although not a graphical operation, this feature captures all of the necessary functionality that enables screen criteria and screen columns to be presented in an organized manner. For example, columns or criteria may be displayed side-by-side in two columns by simply defining two groups within a group and specifying that the content (the two groups) be displayed horizontally. For the most effective use of this feature, the user should storyboard the layout prior to defining the groups. Command: Client Tier -> Screen Grouping Schema Characteristic Description Screen The screen that this group applies to. Group Type Selects the appropriate criteria/column type. Group Index Computed based on the order of columns assigned. Parent Group The parent screen group. Users should ensure the same root for all groups within this screen. Group Name The unique name for the group within this screen. Content Vertical Check this if content should be stacked vertically. Label Vertical Check this if label should be on top of the corresponding content. Border Width Number of pixels for the group box border. (Example: “Zero” leaves the group box borderless.) 
#
 Chapter 4 Button Characteristic Override 
##
 Action buttons can be styled and characterized at two levels. These buttons are predefined to serve any screen, report or wizard. The “ Button Defaults” screen allows the button names and tool tips to render in the human language desired as the default. The “Button Overrides” screen can then override these button characteristics. It is strongly advised not to add more buttons or make changes to this screen as next Rintagi upgrade may remove any modification made to this screen. 
#
 Button Defaults 
##
 These become basic default characteristics for action buttons if there is no override. Overrides display using a desired image, text, etc. Many buttons from the above are not visible as default. Grid import is one of them. You may elect those buttons to override and assign web-rules to these buttons with your desired characteristics. 
#
 Button Overrides 
##
 Schema Characteristic Culture Screen Report Wizard Description The culture this button override represents. The screen this button characteristic will override, if appropriate The report this button characteristic will override, if appropriate. The wizard this button characteristic will override, if appropriate. Button Type The button type this override should apply. Alternate Name The alternate name to be displayed on this button type. (Blank means no change to the default.) Alternate Tool Tip The alternate tool tip for this button type. (Blank means no change to default.) Visible Image Check this if button type should be visible. Check this if button type should be an image. Image URL The relative path to an alternate image if the previous checkbox is checked. 
#
 Chapter 5 Server Rule Setup 
##
 Server Rule Setup is among the most commonly used of all business rules. Any rule defined in this layer will affect only the data. The developer may code rules in this layer using standard SQL as stored procedures. Rules in this layer can be categorized into one of the following: 1. Constraints: Conditions required for successful data entry or user-defined error message will be prompted. 2. Computation: Typical “A + B = C” scenarios, all mathematical formulae can be entered in this format. 3. Inference: Typical “IF A THEN B” scenarios, if a user- defined condition is met then change designated data accordingly. 4. Action Enabler: Any action that cannot be classified as one of the above. Typically used to initiate an external action. The above rules are mutually exclusive, comprehensive and can be initiated by any combination of “Update”, “Insert or “Delete” actions. Developers may even choose to fire individual rules immediately before or after these standard actions. Server Rule: Tab #1 Command: Rule Tier -> Server Rule 
#
 Server Rule: Tab #2 
##
 To use any server rule effectively, users must first create the stored procedure, and then use the Query Analyzer feature to assure that the stored procedure functions properly. The “Synchronize to Db” icon will alert the user to any syntax error. The stored procedure created will be called from within the Data Access layer. Schema Characteristic Description Rule Name The unique name for a server rule (100 characters or less). Description The detail description for the server rule. Rule Type Screen Master Exec Order The rule type (constraint, computation, inference or action enabler) for the server rule. The screen to apply this server rule to. Check if this server rule applies to each row of the master table; uncheck if rule applies to detail table. The order of execution for this server rule. A re-order is automatic if last digit is non-zero or ignored. Procedure Name The procedure name of this server rule (20 characters or less). Parameter Names The parameter names used in the stored procedure (comma-delimited, if needed.) Parameter Types The data types describing the above parameters (comma-delimited, if needed.) Calling Parameters The matching calling parameters with trailing table ID and comma- delimited, if any. LUser.?, LCurr.? and Config.? can be used. On Add Check if this initiates when adding a row. On Update Check if this initiates when updating a row. On Delete Check if this initiates when deleting a row. Before CRUD Check if this initiates before Insert, Update or Delete. S.Procedure This content will be executed, as Stored Procedure (SQL) on the relevant database(s) when field is not empty. Modified By Identifies the user that last modified this. On Captures the date and time of last modification for tracking purposes. Last Generated This stored procedure was last generated on this date. Synchronize from Db Click here to obtain the stored procedure from the physical database. Synchronize to Db Click here to synchronize this stored procedure immediately to the physical database. Business rules written on this layer are documented and are readily accessible as web services via standard database operations (Add, Update, Delete) by other applications. Command: Systems -> Server Rule Listing 
#
 Server Rule Listing Chapter 6 Web Rule Setup 
##
 The Web Rule Setup feature is one of the most dynamic rule layers. Developer may choose to define a rule to affect data, user interface or workflow, offering a nearly limitless range of functionality. Here the user can call web services from other systems. Developers may code rules in this layer using Microsoft C# language. The only caution is because it is coded in C# and sometimes developer may code framework dependent code that may not execute properly upon update of operating system or dot net framework. When one of the following available events occurs, the user-defined business rules defined on this layer will be executed upon post-back to the web server. See qualifying events below: 
#
 Available Events 
##
 Event Description Button Click (after) The ascx.cs program will initiate code written for this event after any Rintagi-generated code associated with this button is executed. Button Click (before) The ascx.cs program will initiate code written for this event before any Rintagi-generated code associated with this button is executed. Button Click (replace) The ascx.cs program will initiate code written for this event replacing any Rintagi-generated code associated with this button is executed. Custom Function/Procedure This written code is expected to be a well-formed function or procedure in C# code. It will initialize as an independent method inside the corresponding ascx.cs. Default Value (Folder) This written code will be generated to the end of the method called ClearMaster (which is called to set all the default values for all the columns of a new record on the tab folder). Default Value (Grid) This written code will be generated to the end of the method called Grid_AddNew (which is called to set all the default values for all the columns of a new grid row). Delete Grid Row (before) This written code will be executed before any Rintagi-generated code when a grid row is deleted. Delete Grid Row (replace) This written code will be executed instead of the Rintagi-generated code when a grid row is deleted. End of List Selection This written code will be executed after any Rintagi-generated code when one or more records are selected. End of Page Load This written code will be executed after all Rintagi-generated code is executed but before the page is fully loaded. GridItemDataBound (after) This event is executed in the middle of loading a data grid. The written code will be executed at the end of this event. GridItemDataBound (before) GridItemDataBound (replace) This written code will be executed before this data grid-loading event. This written code will replace all Rintagi-generated code in this event. On Change Most often used event applies to all screen columns: On Change (con’t.)  For dropdown, list-box, combo-box and radio-button column. This written code to be executed before Rintagi- generated code within a SelectedIndexChanged event.  For checkbox. This written code to be executed before Rintagi-generated code within a CheckedChanged event.  For calendar. This written code to be executed before Rintagi-generated code within a SelectionChanged event.  For button and image-button. This written code to be executed before Rintagi-generated code within a Clicked event.  For other types of columns. This written code to be executed before Rintagi-generated code within a TextChanged event. Command: Rule Tier -> Web Rule 
#
 Web Rule: Tab #1 Web Rule: Tab #2 
##
 Schema Characteristic Description Rule Name The unique name for this web rule (100 characters or less). Description The detailed description for this web rule. Rule Type The rule type (constraint, computation, inference or action enabler) for this web rule. Screen The screen to apply this web rule to. Screen Criteria The screen criteria to apply this web rule, if applicable. Screen Column The screen column to apply this web rule, if applicable. Screen Button The screen button to apply this web rule, if applicable. Event The event to fire this web rule as listed above. Rule to Apply The well-tested rule to be generated onto the program. Business rules on this layer will be generated to the modules/*.ascx.cs in the web tier as shown below: 
#
 Chapter 7 Client Rule Setup 
##
 The Client Rule Setup is used most often to define constraint rules such as “Input Mask”, “User “Interface” or “Workflow”. Although stock rules are readily available, developer may code custom rules in this layer using JavaScript language. There is no post-back when firing these rules. Code generation is not required for any changes made to these client rules and the result is immediate and dynamic. Command: Rule Tier -> Client Rule 
#
 Client Rule 
##
 Schema Characteristic Description Rule Name The unique name for the client rule (100 characters or less). Description The detailed description for this client rule. Rule Type The rule type (constraint, computation, inference or action enabler) for this client rule. Screen Report Culture The screen to apply this client rule to, if applicable. The report that this client side rule applies, if applicable. Applies only when the logon user is using this culture. Screen Column The screen column this client rule applies to, if applicable. Screen Criteria The screen criteria to apply this client rule to, if applicable. Report Criteria The report criteria to apply this client rule to, if applicable. Stock Script The stock script to apply, if applicable. Event Override This shall override the default event of the stock script, if applicable. Script Override Overrides the stock script. Use () only for function that has parameters. (Must end with ";", if applicable.) This function should already be tested and declared in UserRule.js. Parameters Identifies the column by the "@" sign followed by the ScreenObjId, ScreenCriId or ReportCriId separated by comma, if applicable. Alternatively this can be any ClientID on the page that is enclosed by single quotes. 
#
 Chapter 8 Message Center Maintenance 
##
 Errors can be trapped on three distinct tiers: 1. Client tier: Achieved via Client Rule from above. An error message will be prompted before the data reaches the web tier. 2. Web tier: Errors are trapped based on the strongly-typed data and input masks that are defined when defining the screen columns. An error message will be prompted before data reaches the data tier. 3. Data tier: Errors are trapped when data reaches the database. While creating the stored procedure for a server rule, there are two ways to create an error message to be displayed when needed. One method is to code it directly within the stored procedure (in English). This message may not be accessible to other business rules, however. The other method defines an error message in the “Message Center,” where various human translations for the message are available automatically, and can be referenced by numerous stored procedures. 
#
 Message Center 
##
 In order to reference this error message the user must enclose the Message ID (numeric) within curly brackets. For example “{1}” references the error message whose ID is “1” within the database. When defining the message, use {%S}…{%S}…{%D} to refer to first parameter, second parameter, etc. Use the convention “S” for string, “D” for numeric without decimal, etc. However, the positioning digit when referencing this error message is not necessary. 
#
 Server Rule Chapter 9 Language Translation 
##
 Rintagi generated enterprise applications are multilingual. Once the application is built in English then labels, tool tips, messages, etc. in many other human languages can be automatically generated with Rintagi. Human translators may inspect and change to preferred phrases and wordings without involving technical staff. For those languages not provided automatically, translation into any Unicode supported language can be accomplished via Rintagi’s user-friendly interface. Each human language can be translated within minutes by the press of a button. 
#
 Translator Screen 
##
 If the above translation is not satisfactory, built-in screens provide editing capability for each individual translation. 
#
 Translation Editing 
##
 Each user is designated one or more user-defined user groups and a specific human language with a country-specific locale. Although each user may belong to many user groups, he/she may only choose one human language at a time. 
#
 User Management 
##
 Human language in Rintagi is identified by culture. Each culture code is made up of 2 letter language codes (lower case) derived from the ISO 639 standard, followed by a hyphen, then a country codes (upper case) from ISO 3166. For example, “en-US” represents United States English while “en-UK” represents United Kingdom English. Aside from differences in expression, the country code also determines date and numeric formats, as well as currency representation. 
#
 Two Letter Language Codes Two Letter Country Codes 
##
 The available country codes are: 
#
 Chapter 10 Document Imaging 
##
 Document imaging cannot be easier because it is a built-in feature for Rintagi generated enterprise applications. It has been tested that on average it would only a second to add this capability to attach to any column or entity. The user-friendly interface Rintagi generated allows users to add unlimited number of pictures, images and documents of any types with version management capability. Each user only may also delete his/ her imported pictures, images and documents. Below is a sample of the user interface. 
#
 Document Imaging 
##
 Click the icon on the left and you would be able to import any picture, image or document of your choice as follow: Although this feature is currently not available to DataGrid, to make all of these happen, the followings need to be done as a developer: 1. In the table you wish to attach these document images, add a column as a null- able integer; 2. In Screen Column Characteristic select “Document” 3. A table with the same name as the above column is added automatically as depository for all the document images with the following structures: 4. In Screen Column Properties, for the additional column defined in #1 above, specify the following:  Width: 500px (typical width of a imaging grd);  Height: 2 (number of documents per page displayed);  Display Mode: Select Document  Dropdown Key: ??Doc – DocId (automatic)  Dropdown Ref: ??Doc – DocName (automatic) ??Doc is the depository table designated for the storage of these documents for this screen column. 5. A virtual foreign key linking the additional column defined in #1 above with ??Doc – DocId is added automatically; 6. The screen is automatically regenerated when accessed, compiled and it’s done. 